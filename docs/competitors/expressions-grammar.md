# Сравнение синтаксиса числовых выражений: C++ vs Pascal

## 1. Лексическая структура (Числовые литералы)

| Категория              | C++                                   | Pascal       | Примечание                                                |
|:-----------------------|:--------------------------------------|:-------------|:----------------------------------------------------------|
| **Десятичные целые**   | `123`, `456`                          | `123`, `456` | Идентичны.                                                |
| **Шестн. целые**       | `0x1A`, `0xFF`                        | `$1A`, `$FF` | Разные префиксы (`0x` vs `$`).                            |
| **Двоичные целые**     | `0b101` (с C++14)                     | `%101`       | Разные префиксы (`0b` vs `%`).                            |
| **Восьмеричные целые** | `075` (префикс 0)                     | (Нет)        | **Опасная ловушка C++:** `010` — это `8`, а не `10`.      |
| **Вещественные**       | `1.5`, `.5`, `1e5`                    | `1.5`, `1E5` | C++ допускает `.5`. Pascal требует `0.5`.                 |
| **Суффиксы типов**     | `10L`, `10U`, `10UL` (long, unsigned) | (Нет)        | C++ позволяет явно указать тип литерала.                  |
| **Суффиксы (float)**   | `1.5f` (float)                        | (Нет)        | `1.5` в C++ по-умолчанию `double`. `f` нужен для `float`. |

**Вывод:** C++ имеет более богатую систему литералов с суффиксами. Pascal лексически проще и использует `$` и `%` для
не-десятичных систем.

## 2. Сравнение числовых типов данных

| Категория          | C++                                    | Pascal                                 | Ключевое различие                                                                          |
|:-------------------|:---------------------------------------|:---------------------------------------|:-------------------------------------------------------------------------------------------|
| **Базовое целое**  | `int`                                  | `Integer`                              | Эквиваленты.                                                                               |
| **Размеры целых**  | `short`, `long`, `long long`           | `SmallInt`, `LongInt`, `Int64`         | Оба языка имеют иерархию размеров.                                                         |
| **Беззнаковые**    | `unsigned int`, `unsigned short`...    | `Byte`, `Word`, `LongWord`             | Разный подход: C++ использует модификатор `unsigned`. Pascal — отдельные именованные типы. |
| **Символьный тип** | `char`, `signed char`, `unsigned char` | `Byte`                                 | `char` в C++ — это 8-битное целое число. Для 8-битного числа в Pascal есть `Byte`.         |
| **Вещественные**   | `float`, `double`, `long double`       | `Real`, `Single`, `Double`, `Extended` | Оба языка имеют несколько уровней точности.                                                |
| **Логический**     | `bool` (`true`, `false`)               | `Boolean` (`True`, `False`)            | Эквиваленты.                                                                               |

**Вывод:** C++ более гибкий (любой `int` может быть `unsigned`) и рассматривает `char` как число. Pascal строже:
беззнаковые типы — это отдельные именованные типы, а `Char` — не число.

## 3. Сравнение арифметических операторов

| Операция            | C++                        | Pascal                           | Примечание                                                                                                 |
|:--------------------|:---------------------------|:---------------------------------|:-----------------------------------------------------------------------------------------------------------|
| **Присваивание**    | **`=`**                    | **`:=`**                         | Фундаментальное различие. В C++ `=` — это выражение. В Pascal `:=` — это инструкция. (См. п. 6)            |
| **Сложение**        | `+`                        | `+`                              |                                                                                                            |
| **Вычитание**       | `-`                        | `-`                              |                                                                                                            |
| **Умножение**       | `*`                        | `*`                              |                                                                                                            |
| **Деление (Float)** | **`/`**                    | **`/`**                          | В C++ `/` выполняет целочисленное деление, если оба операнда целые. В Pascal `/` всегда возвращает `Real`. |
| **Деление (Int)**   | **`/`**                    | **`div`**                        | В C++ для целочисленного деления используется тот же `/`. Pascal требует явный оператор `div`.             |
| **Остаток**         | **`%`**                    | **`mod`**                        | Символ `%` против ключевого слова `mod`.                                                                   |
| **Инкремент**       | `++` (пре/пост)            | (нет)                            | C++ имеет `++x` и `x++`. Pascal использует процедуру `Inc(x)`.                                             |
| **Декремент**       | `--` (пре/пост)            | (нет)                            | Аналогично, `Dec(x)`.                                                                                      |
| **Составное**       | `+=`, `-=`, `*=`, `/=`     | (нет)                            | C++ позволяет `x += 5;`. Pascal требует `x := x + 5;`.                                                     |
| **Битовые**         | `&`, `\|`, `^`, `<<`, `>>` | `and`, `or`, `xor`, `shl`, `shr` | Разный синтаксис: C++ использует символы. Pascal — ключевые слова.                                         |

**Вывод:** C++ имеет более богатый набор операторов (`++`, `+=`), которые также являются выражениями. Pascal использует
ключевые слова (`div`, `mod`) и строже разделяет операции (`/` для `Real`, `div` для `Integer`).

## 4. Приоритет и Ассоциативность для операторов числовых выражений

**C++:**

| Приоритет | Операторы                                     | Описание            | Ассоц. |
|:----------|:----------------------------------------------|:--------------------|:-------|
| 1 (Высш)  | `++` (пост) `--` (пост)                       | Постфиксные         | Левая  |
| 2         | `++` (пре) `--` (пре) `+ -` (унарные) `!` `~` | Префиксные, унарные | Правая |
| 3         | `* / %`                                       | Мультипликативные   | Левая  |
| 4         | `+ -` (бинарные)                              | Аддитивные          | Левая  |
| 5         | `<< >>`                                       | Битовый сдвиг       | Левая  |
| 6         | `< <= > >=`                                   | Сравнение           | Левая  |
| 7         | `== !=`                                       | Равенство           | Левая  |
| 8         | `&` (бит.)                                    | Битовое И           | Левая  |
| 11        | `&&`                                          | Логическое И        | Левая  |
| 12        | `\|\|`                                        | Логическое ИЛИ      | Левая  |
| 13        | `?:`                                          | Тернарный оператор  | Правая |
| 14        | `= += -= *= /=`                               | Присваивание        | Правая |

**Pascal:**

| Приоритет | Операторы                 | Описание          | Ассоц. |
|:----------|:--------------------------|:------------------|:-------|
| 1 (Высш)  | `not` `@` `+ -` (унарные) | Унарные           | Правая |
| 2         | `* / div mod and shl shr` | Мультипликативные | Левая  |
| 3         | `+ -` (бинарные) `or xor` | Аддитивные        | Левая  |
| 4         | `= <> < > <= >=`          | Сравнение         | Левая  |

#### Критическое различие в приоритетах

В C++ логические операторы (`&&`, `||`) имеют очень низкий приоритет, ниже операторов сравнения.
В Pascal логические операторы (`and`, `or`) имеют высокий приоритет, наравне с умножением/сложением.

> `x > 0 && y < 10`
> * **C++:** Парсится как `(x > 0) && (y < 10)`. Работает как ожидается.
> * **Pascal:** `x > 0 and y < 10`
    >     Парсер видит это как: `x > (0 and y) < 10` (из-за высокого приоритета `and`).
    >     Это ошибка компиляции, т.к. `and` нельзя применить к числу `0` и `y`.
    > Правильный синтаксис в Pascal требует явных скобок:
    > `(x > 0) and (y < 10)`

## 5. Сравнение встроенных функций для работы с числами

| Категория           | C++ (из `<cmath>`)                   | Pascal (встроенные в System)      |
|:--------------------|:-------------------------------------|:----------------------------------|
| Квадратный корень   | `sqrt(d)`                            | `Sqrt(x)`                         |
| Квадрат             | `pow(d, 2.0)`                        | `Sqr(x)`                          |
| Степень             | `pow(d, p)`                          | (Нет) (используется `Math.Power`) |
| Абсолютное значение | `abs(i)`, `fabs(d)` (или `std::abs`) | `Abs(x)`                          |
| Округление (матем.) | `round(d)`                           | `Round(x)`                        |
| Округление вниз     | `floor(d)`                           | `Trunc(x)`                        |
| Округление вверх    | `ceil(d)`                            | `Ceil(x)`                         |
| Дробная часть       | `fmod(x, 1.0)`                       | `Frac(x)`                         |

**Вывод:** В Pascal больше удобных встроенных функций для базовой математики (особенно `Sqr`, `Trunc`, `Round`, `Frac`),
которые ощущаются как часть языка. C++ полагается на библиотеку `<cmath>`.

## 6. Прочие синтаксические и семантические особенности

1. **Присваивание (Выражение vs Инструкция)**

* **C++:** `a = b` — это *выражение*. Оно имеет значение (значение `b`) и тип.
    * Это позволяет: `a = b = c = 10;`
    * Это позволяет: `while ((c = getchar()) != EOF) { ... }`
    * Это источник ошибок: `if (x = 5)` (ошибка, но компилируется) вместо `if (x == 5)`.
* **Pascal:** `a := b` — это *инструкция*. Она *не имеет значения* и не может быть частью другого выражения.
    * `a := b := c := 10;` — **синтаксическая ошибка.**
    * `if x := 5 then ...` — **синтаксическая ошибка.**
    * Это делает код строже и безопаснее.

2. **Тернарный оператор**

* **C++:** Имеет тернарное выражение: `result = (a > b) ? a : b;`
* **Pascal:** Не имеет. Требуется полная инструкция: `if a > b then result := a else result := b;` (Современные
  диалекты, вроде Free Pascal, добавили функцию `IfThen(cond, a, b)`).

3. **Точка с запятой (`;`)**

* **C++:** Точка с запятой — это терминатор инструкции. Каждая инструкция (включая присваивание) *должна*
  заканчиваться `;`.
* **Pascal:** Точка с запятой — это разделитель инструкций. Она ставится между инструкциями. Она не обязательна
  после последней инструкции перед `end`.